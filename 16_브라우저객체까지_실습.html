<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>브라우저 객체 실습</title>
    <link rel="icon" href="data:," />
  </head>
  <body>
    <h1>브라우저 객체 실습</h1>

    <h2>실습1</h2>
    실습. 1초마다 n이라는 변수에 값이 1씩 증가하는 코드를 작성하시오. 또한
    10초마다 사용자에게 진행여부를 확인하고 진행시에는 n값 증가 진행 취소시 n값
    진행 중단을 되도록 하시오.

    <script type="text/javascript">
      // let n = 0;

      // const intervalFn = setInterval(function () {
      //   console.log(++n);
      //   if (n != 0 && n % 10 == 0) {
      //     const returnFn = confirm("계속 실행하시겠습니까?");
      //     if (!returnFn) {
      //       clearInterval(intervalFn);
      //     }
      //   }
      // }, 1000);
    </script>

    <h2>실습2</h2>
    실습. times h3태그의 텍스트노드에 1초마다 현재 시간을 출력하도록 하시오.
    (출력양식 : AM 10시 28분 30초)
    <h3 id="times"></h3>
    <script type="text/javascript">
      // const $times = document.querySelector("#times");
      // const curClock = setInterval(function getClock() {
      //   const cTime = new Date();
      //   let printH = cTime.getHours();
      //   let printM = cTime.getMinutes();
      //   let printS = cTime.getSeconds();
      //   let resultT;
      //   if (printH >= 12) {
      //     resultT = `PM ${printH - 12}시 ${printM}분 ${printS}초`;
      //   } else {
      //     resultT = `AM ${printH}시 ${printM}분 ${printS}초`;
      //   }
      //   $times.textContent = resultT;
      // }, 1000);
      const $times = document.querySelector("#times");
      const numberFormat = (num) => (num < 10 ? `0${num}` : num);

      const currentTime = () => {
        const date = new Date();
        let hours = date.getHours();
        const minutes = numberFormat(date.getMinutes());
        const seconds = numberFormat(date.getSeconds());
        const meridian = hours > 11 ? "PM" : "AM";
        hours = hours > 12 ? numberFormat(hours - 12) : numberFormat(hours);
        const print = `${meridian} ${hours}시 ${minutes}분 ${seconds}초`;
        $times.textContent = print;
      };

      setInterval(currentTime, 1000);
    </script>
  </body>
</html>
